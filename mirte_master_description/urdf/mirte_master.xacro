<?xml version="1.0" encoding="utf-8"?>
<!-- This URDF was automatically created by SolidWorks to URDF Exporter! Originally created by
Stephen Brawner (brawner@gmail.com) 
     Commit Version: 1.6.0-4-g7f85cfe  Build Version: 1.6.7995.38578
     For more information, please see http://wiki.ros.org/sw_urdf_exporter -->
<robot
  name="mirte_master" xmlns:xacro="http://ros.org/wiki/xacro">

  <xacro:arg name="flag_enable" default="False" />
  <xacro:arg name="arm_enable" default="False" />
  <xacro:arg name="screen_enable" default="False" />
  <xacro:arg name="front_camera_enable" default="False" />
  <xacro:arg name="sonar_enable" default="False" />
  <xacro:arg name="lidar_enable" default="False" />
  <xacro:arg name="depth_camera_enable" default="False" />

  <!-- Disable momentum on the main body, makes the simulation behave slightly nicer, at the cost of
  inaccuracies (It is better toggle this when the robot hits the ground)-->
  <xacro:arg name="kinematic_only" default="False" />

  <xacro:property name="wheel_radius" value="0.053" />
  <xacro:property name="wheel_length" value="0.055" />
  <xacro:property name="wheel_mass" value="0.26661" />

  <xacro:property name="wheel_velocity" value="8" /> <!-- Was 10 based on calc-->
  <xacro:property name="wheel_effort" value="5" /> <!-- 5 -->

  <xacro:property name="base_mass" value="4.0815" /> <!-- 3.0815 -->

  <!-- Bring in simulation data for Gazebo. -->
  <xacro:include filename="$(find mirte_master_description)/urdf/mirte_master_base.gazebo.xacro" />

  <xacro:include
    filename="$(find gazebo_sensor_collection)/urdf/cameras/rgbd/orbbec_astra_pro_plus.urdf.xacro" />

  <xacro:if value="$(arg depth_camera_enable)">
    <xacro:sensor_orbbec_astra_pro_plus name="camera" parent="base_link" color="black">
      <origin xyz="0.01 -0.146658788505756 0.0427" rpy="0 0 ${radians(-90)}" />
    </xacro:sensor_orbbec_astra_pro_plus>
  </xacro:if>

  <link name="base_footprint"></link>

  <joint name="base_link_joint" type="fixed">
    <origin xyz="0 0 0.10" rpy="0 0 ${radians(90)}" />
    <parent link="base_footprint" />
    <child link="base_link" />
  </joint>


  <link
    name="base_link">
    <inertial>
      <origin xyz="-0.00024285 0.0082178 -0.0037661" />
      <mass value="${base_mass}" />
      <!-- <inertia
        ixx="0.01245"
        ixy="-6.0298E-07"
        ixz="-7.3071E-07"
        iyy="0.0091262"
        iyz="-0.00017974"
        izz="0.020706" /> -->
      <inertia
        ixx="${base_mass * (0.06**2 + 0.28**2) / 12}"
        iyy="${base_mass * (0.19**2 + 0.06**2) / 12}"
        izz="${base_mass * (0.19**2 + 0.28**2) / 12}"
        ixy="0" ixz="0" iyz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh
          filename="package://mirte_master_description/meshes/base_link.STL" />
      </geometry>
      <material name="">
        <color rgba="0.52941 0.54902 0.54902 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 -0.03" />
      <geometry>
        <box size="0.19 0.28 0.06" />
      </geometry>
    </collision>
    <collision>
      <origin xyz="0 0.05 0.045" />
      <geometry>
        <box size="0.18 0.16 0.05" />
      </geometry>
    </collision>
  </link>

  <link
    name="wheel_fl">
    <inertial>
      <origin xyz="0 0 0.025" />
      <mass value="${wheel_mass}" />
      <inertia
        ixx="${wheel_mass * (3 * (wheel_radius**2) + (wheel_length**2)) / 12}"
        iyy="${wheel_mass * (3 * (wheel_radius**2) + (wheel_length**2)) / 12}"
        izz="${wheel_mass * (wheel_radius **2) / 2}"
        ixy="0" ixz="0" iyz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh
          filename="package://mirte_master_description/meshes/wheel_fl.STL" />
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0.025" />
      <geometry>
        <cylinder radius="${wheel_radius}" length="${wheel_length}" />
      </geometry>
    </collision>
  </link>
  <joint
    name="wheel_joint_fl"
    type="continuous">
    <origin
      xyz="0.153 -0.085 -0.0455"
      rpy="1.5708 0 -1.5708" />
    <parent link="base_link" />
    <child link="wheel_fl" />
    <axis xyz="0 0 -1" />
    <dynamics damping="3.0" friction="5.0" />
    <limit velocity="${wheel_velocity}" effort="${wheel_effort}" />
  </joint>

  <transmission name="wheel_trans_fl">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel_joint_fl">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel_act_fl">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <link
    name="wheel_br">
    <inertial>
      <origin xyz="0 0 0.025" />
      <mass value="${wheel_mass}" />
      <inertia
        ixx="${wheel_mass * (3 * (wheel_radius**2) + (wheel_length**2)) / 12}"
        iyy="${wheel_mass * (3 * (wheel_radius**2) + (wheel_length**2)) / 12}"
        izz="${wheel_mass * (wheel_radius **2) / 2}"
        ixy="0" ixz="0" iyz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh
          filename="package://mirte_master_description/meshes/wheel_br.STL" />
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 -0.025" />
      <geometry>
        <cylinder radius="${wheel_radius}" length="${wheel_length}" />
      </geometry>
    </collision>
  </link>
  <joint
    name="wheel_joint_br"
    type="continuous">
    <origin
      xyz="-0.153 0.085 -0.0455"
      rpy="1.5708 0 -1.5708" />
    <parent link="base_link" />
    <child link="wheel_br" />
    <axis xyz="0 0 -1" />
    <dynamics damping="3.0" friction="5.0" />
    <limit velocity="${wheel_velocity}" effort="${wheel_effort}" />
  </joint>

  <transmission name="wheel_trans_br">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel_joint_br">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel_act_br">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <link
    name="wheel_fr">
    <inertial>
      <origin xyz="0 0 0.025" />
      <mass value="${wheel_mass}" />
      <inertia
        ixx="${wheel_mass * (3 * (wheel_radius**2) + (wheel_length**2)) / 12}"
        iyy="${wheel_mass * (3 * (wheel_radius**2) + (wheel_length**2)) / 12}"
        izz="${wheel_mass * (wheel_radius **2) / 2}"
        ixy="0" ixz="0" iyz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh
          filename="package://mirte_master_description/meshes/wheel_fr.STL" />
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 -0.025" />
      <geometry>
        <cylinder radius="${wheel_radius}" length="${wheel_length}" />
      </geometry>
    </collision>
  </link>
  <joint
    name="wheel_joint_fr"
    type="continuous">
    <origin
      xyz="-0.153 -0.085 -0.0455"
      rpy="1.5708 0 -1.5708" />
    <parent link="base_link" />
    <child link="wheel_fr" />
    <axis xyz="0 0 -1" />
    <dynamics damping="3.0" friction="5.0" />
    <limit velocity="${wheel_velocity}" effort="${wheel_effort}" />
  </joint>

  <transmission name="wheel_trans_fr">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel_joint_fr">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel_act_fr">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <link
    name="wheel_bl">
    <inertial>
      <origin xyz="0 0 0.025" />
      <mass value="${wheel_mass}" />
      <inertia
        ixx="${wheel_mass * (3 * (wheel_radius**2) + (wheel_length**2)) / 12}"
        iyy="${wheel_mass * (3 * (wheel_radius**2) + (wheel_length**2)) / 12}"
        izz="${wheel_mass * (wheel_radius **2) / 2}"
        ixy="0" ixz="0" iyz="0" />
    </inertial>
    <visual>
      <geometry>
        <mesh
          filename="package://mirte_master_description/meshes/wheel_bl.STL" />
      </geometry>
      <material name="">
        <color rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0.025" />
      <geometry>
        <cylinder radius="${wheel_radius}" length="${wheel_length}" />
      </geometry>
    </collision>
  </link>
  <joint
    name="wheel_joint_bl"
    type="continuous">
    <origin
      xyz="0.153 0.085 -0.0455"
      rpy="1.5708 0 -1.5708" />
    <parent link="base_link" />
    <child link="wheel_bl" />
    <axis xyz="0 0 -1" />
    <dynamics damping="3.0" friction="5.0" />
    <limit velocity="${wheel_velocity}" effort="${wheel_effort}" />
  </joint>

  <transmission name="wheel_trans_bl">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wheel_joint_bl">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="wheel_act_bl">
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>

  <xacro:if value="$(arg front_camera_enable)">
    <link
      name="cam_front">
      <inertial>
        <origin
          xyz="-0.00010069 -0.00018452 0.0033961"
          rpy="0 0 0" />
        <mass
          value="0.0022023" />
        <inertia
          ixx="7.901E-08"
          ixy="-1.4438E-25"
          ixz="5.502E-24"
          iyy="1.049E-07"
          iyz="-1.0016E-23"
          izz="1.3983E-07" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/cam_front.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.79608 0.82353 0.93725 1" />
        </material>
      </visual>
      <!-- <collision>
  <origin
  xyz="0 0 0"
  rpy="0 0 0" />
  <geometry>
    <mesh
    filename="package://mirte_master_description/meshes/cam_front.STL" />
  </geometry>
</collision> -->
    </link>
    <joint
      name="cam_joint_front"
      type="fixed">
      <origin
        xyz="0 -0.1325 -0.0285"
        rpy="1.5708 0 0" />
      <parent link="base_link" />
      <child link="cam_front" />
      <!-- <axis xyz="0 0 0" /> -->
    </joint>
  </xacro:if>

  <xacro:if value="$(arg sonar_enable)">
    <link
      name="ultrasonic_fl">
      <inertial>
        <origin
          xyz="-4.30733527062924E-05 0.00367564883489804 -6.99136578631437E-05"
          rpy="0 0 0" />
        <mass
          value="0.00383513951999247" />
        <inertia
          ixx="1.59365628586768E-07"
          ixy="-8.54250314742639E-10"
          ixz="-3.40905422018191E-09"
          iyy="7.68751523460336E-07"
          iyz="2.65062440645508E-09"
          izz="7.26221149125628E-07" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/ultrasonic_fl.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/ultrasonic_fl.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="ultrasonic_joint_fl"
      type="fixed">
      <origin
        xyz="0.05297775289576 -0.120282421780502 -0.031"
        rpy="3.14159265358979 0 0.296705972839036" />
      <parent
        link="base_link" />
      <child
        link="ultrasonic_fl" />
      <axis
        xyz="0 0 0" />
    </joint>
    <link
      name="ultrasonic_fr">
      <inertial>
        <origin
          xyz="-4.30733527063201E-05 0.00367564883489799 -6.99136578631784E-05"
          rpy="0 0 0" />
        <mass
          value="0.00383513951999245" />
        <inertia
          ixx="1.59365628586767E-07"
          ixy="-8.54250314742507E-10"
          ixz="-3.40905422018182E-09"
          iyy="7.6875152346034E-07"
          iyz="2.65062440645522E-09"
          izz="7.26221149125632E-07" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/ultrasonic_fr.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/ultrasonic_fr.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="ultrasonic_joint_fr"
      type="fixed">
      <origin
        xyz="-0.05297775289576 -0.120282421780502 -0.031"
        rpy="3.14159265358979 0 -0.296705972839036" />
      <parent
        link="base_link" />
      <child
        link="ultrasonic_fr" />
      <axis
        xyz="0 0 0" />
    </joint>
    <link
      name="ultrasonic_bl">
      <inertial>
        <origin
          xyz="-4.30733527062716E-05 0.00367564883489804 -6.9913657863175E-05"
          rpy="0 0 0" />
        <mass
          value="0.00383513951999244" />
        <inertia
          ixx="1.59365628586767E-07"
          ixy="-8.54250314742494E-10"
          ixz="-3.40905422018206E-09"
          iyy="7.68751523460339E-07"
          iyz="2.6506244064553E-09"
          izz="7.26221149125632E-07" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/ultrasonic_bl.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/ultrasonic_bl.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="ultrasonic_joint_bl"
      type="fixed">
      <origin
        xyz="0.0565606470918482 0.119187021096338 -0.031"
        rpy="3.14159265358979 0 2.84488668075076" />
      <parent
        link="base_link" />
      <child
        link="ultrasonic_bl" />
      <axis
        xyz="0 0 0" />
    </joint>
    <link
      name="ultrasonic_br">
      <inertial>
        <origin
          xyz="-4.30733527062716E-05 0.00367564883489802 -6.99136578631541E-05"
          rpy="0 0 0" />
        <mass
          value="0.00383513951999245" />
        <inertia
          ixx="1.59365628586768E-07"
          ixy="-8.54250314743155E-10"
          ixz="-3.40905422018173E-09"
          iyy="7.68751523460337E-07"
          iyz="2.65062440645518E-09"
          izz="7.26221149125628E-07" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/ultrasonic_br.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.792156862745098 0.819607843137255 0.933333333333333 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/ultrasonic_br.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="ultrasonic_joint_br"
      type="fixed">
      <origin
        xyz="-0.0565606470918482 0.119187021096338 -0.031"
        rpy="3.14159265358979 0 -2.84488668075076" />
      <parent
        link="base_link" />
      <child
        link="ultrasonic_br" />
      <axis
        xyz="0 0 0" />
    </joint>
  </xacro:if>

  <!-- <link
    name="depth_cam">
    <inertial>
      <origin
        xyz="0.00132191552494907 -0.000392007210431269 -0.0222605569616031"
        rpy="0 0 0" />
      <mass
        value="0.188133920196831" />
      <inerti  <xacro:arg name="flag_enable" default="False" />
a
        ixx="6.91459455879894E-05"
        ixy="2.54332859259088E-06"
        ixz="1.91366261320705E-05"
        iyy="0.000449074814232154"
        iyz="-4.27256155918481E-06"
        izz="0.000408304016415217" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mirte_master_description/meshes/depth_cam.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.250980392156863 0.250980392156863 0.250980392156863 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://mirte_master_description/meshes/depth_cam.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="depth_cam_joint"
    type="fixed">
    <origin
      xyz="0 -0.146658788505756 0.0427000000000005"
      rpy="1.5707963267949 0 0" />
    <parent
      link="base_link" />
    <child
      link="depth_cam" />
    <axis
      xyz="0 0 0" />
  </joint> -->
  <xacro:if value="$(arg lidar_enable)">
    <link
      name="lidar">
      <inertial>
        <origin
          xyz="-3.97749846947626E-10 0.0118651639742243 -9.54386087724301E-05"
          rpy="0 0 0" />
        <mass
          value="0.100511981883415" />
        <inertia
          ixx="3.39518063996325E-05"
          ixy="-1.6211120950128E-12"
          ixz="-2.92284267016588E-13"
          iyy="4.1935853096105E-05"
          iyz="1.1815579647801E-07"
          izz="3.44778101670497E-05" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/lidar.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.501960784313725 0.501960784313725 0.501960784313725 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/lidar.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="lidar_joint"
      type="fixed">
      <origin
        xyz="0 -0.1005 0.0072113248654052"
        rpy="-1.5707963267949 0 -1.5707963267949" />
      <parent
        link="base_link" />
      <child
        link="lidar" />
      <axis
        xyz="0 0 0" />
    </joint>
  </xacro:if>

  <xacro:if value="$(arg screen_enable)">
    <link
      name="screen">
      <inertial>
        <origin
          xyz="-1.24638847975239E-07 0.0013371323974908 0.00160606068028191"
          rpy="0 0 0" />
        <mass
          value="0.00357270774970056" />
        <inertia
          ixx="1.29976980207027E-07"
          ixy="-1.78182996362165E-11"
          ixz="-4.24689246841474E-13"
          iyy="2.09902246549457E-07"
          iyz="1.92672613573332E-09"
          izz="3.37075734369407E-07" />
      </inertial>
      <visual>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/screen.STL" />
        </geometry>
        <material
          name="">
          <color
            rgba="0.768627450980392 0.768627450980392 0.768627450980392 1" />
        </material>
      </visual>
      <collision>
        <origin
          xyz="0 0 0"
          rpy="0 0 0" />
        <geometry>
          <mesh
            filename="package://mirte_master_description/meshes/screen.STL" />
        </geometry>
      </collision>
    </link>
    <joint
      name="screen_joint"
      type="fixed">
      <origin
        xyz="0 0.121521156261136 0.0540000000000046"
        rpy="1.5707963267949 0 -3.14159265358979" />
      <parent
        link="base_link" />
      <child
        link="screen" />
      <axis
        xyz="0 0 0" />
    </joint>
  </xacro:if>

  <xacro:if value="$(arg flag_enable)">
    <xacro:include filename="$(find mirte_master_description)/urdf/flag.xacro" />
  </xacro:if>

  <xacro:if value="$(arg arm_enable)">
    <xacro:include filename="$(find mirte_master_description)/urdf/arm.xacro" />
  </xacro:if>
</robot>